{"ast":null,"code":"import axios from 'axios';\nconst getUserInfo = (userId, userPw) => {\n  const reqData = {\n    'user_id': userId,\n    'user_pw': userPw\n  };\n  let serverUrl = '//localhost:8081';\n  return axios.post(serverUrl + '/user/login', reqData, {\n    headers: {\n      'Content-type': 'application/json'\n    }\n  });\n};\nexport default {\n  async doLogin(userId, userPw) {\n    try {\n      const getUserInfoPromise = getUserInfo(userId, userPw);\n      const [userInfoResponse] = await Promise.all([getUserInfoPromise]);\n      if (userInfoResponse.data.length === 0) {\n        return 'notFound';\n      } else {\n        localStorage.setItem('user_token', userInfoResponse.data.user_token);\n        localStorage.setItem('user_role', userInfoResponse.data.user_role);\n        return userInfoResponse;\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  }\n};","map":{"version":3,"names":["axios","getUserInfo","userId","userPw","reqData","serverUrl","post","headers","doLogin","getUserInfoPromise","userInfoResponse","Promise","all","data","length","localStorage","setItem","user_token","user_role","err","console","error"],"sources":["C:/Users/yjjyk/Documents/GitHub/Vue.js/src/service/loginAPI.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst getUserInfo = (userId, userPw) => {\r\n    const reqData = {\r\n        'user_id': userId,\r\n        'user_pw': userPw\r\n    }\r\n\r\n    let serverUrl = '//localhost:8081'\r\n\r\n    return axios.post(serverUrl + '/user/login', reqData, {\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        }\r\n    })\r\n}\r\n\r\nexport default {\r\n    async doLogin(userId, userPw) {\r\n        try {\r\n            const getUserInfoPromise = getUserInfo(userId, userPw)\r\n            const [userInfoResponse] = await Promise.all([getUserInfoPromise])\r\n            if (userInfoResponse.data.length === 0) {\r\n                return 'notFound'\r\n            } else {\r\n                localStorage.setItem('user_token', userInfoResponse.data.user_token)\r\n                localStorage.setItem('user_role', userInfoResponse.data.user_role)\r\n                return userInfoResponse\r\n            }\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,WAAW,GAAGA,CAACC,MAAM,EAAEC,MAAM,KAAK;EACpC,MAAMC,OAAO,GAAG;IACZ,SAAS,EAAEF,MAAM;IACjB,SAAS,EAAEC;EACf,CAAC;EAED,IAAIE,SAAS,GAAG,kBAAkB;EAElC,OAAOL,KAAK,CAACM,IAAI,CAACD,SAAS,GAAG,aAAa,EAAED,OAAO,EAAE;IAClDG,OAAO,EAAE;MACL,cAAc,EAAE;IACpB;EACJ,CAAC,CAAC;AACN,CAAC;AAED,eAAe;EACX,MAAMC,OAAOA,CAACN,MAAM,EAAEC,MAAM,EAAE;IAC1B,IAAI;MACA,MAAMM,kBAAkB,GAAGR,WAAW,CAACC,MAAM,EAAEC,MAAM,CAAC;MACtD,MAAM,CAACO,gBAAgB,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAACH,kBAAkB,CAAC,CAAC;MAClE,IAAIC,gBAAgB,CAACG,IAAI,CAACC,MAAM,KAAK,CAAC,EAAE;QACpC,OAAO,UAAU;MACrB,CAAC,MAAM;QACHC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEN,gBAAgB,CAACG,IAAI,CAACI,UAAU,CAAC;QACpEF,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEN,gBAAgB,CAACG,IAAI,CAACK,SAAS,CAAC;QAClE,OAAOR,gBAAgB;MAC3B;IACJ,CAAC,CAAC,OAAOS,GAAG,EAAE;MACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACtB;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}