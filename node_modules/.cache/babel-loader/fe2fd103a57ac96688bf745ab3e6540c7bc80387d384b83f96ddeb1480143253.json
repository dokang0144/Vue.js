{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, computed } from 'vue';\nimport dynamics from 'dynamics.js';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'PageDraggable',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const headerHeight = 120;\n    let isDragging = false;\n    const start = {\n      x: 0,\n      y: 0\n    };\n    const c = reactive({\n      x: headerHeight,\n      y: headerHeight\n    });\n    const headerPath = computed(() => {\n      return `M0,0 L320,0 320,${headerHeight}Q${c.x},${c.y} 0,${headerHeight}`;\n    });\n    const contentText = reactive('끌어당겨시작');\n    const contentPosition = computed(() => {\n      const dy = c.y - headerHeight;\n      const dampen = dy > 0 ? 2 : 4;\n      return {\n        transform: `translate(0,${dy / dampen}px)`\n      };\n    });\n    const router = useRouter();\n    function startDrag(e) {\n      e = e.changedTouches ? e.changedTouches[0] : e;\n      isDragging = true;\n      start.x = e.pageX;\n      start.y = e.pageY;\n    }\n    function onDrag(e) {\n      e = e.changedTouches ? e.changedTouches[0] : e;\n      if (isDragging) {\n        c.x = headerHeight + (e.pageX - start.x);\n        const dy = e.pageY - start.y;\n        const dampen = dy > 0 ? 1.5 : 4;\n        c.y = headerHeight + dy / dampen;\n        const content = document.querySelector('.content');\n        if (c.y > headerHeight + 100) {\n          content.innerText = 'Goodbye';\n        } else {\n          content.innerText = '끌어당겨시작';\n        }\n      }\n    }\n    function stopDrag() {\n      if (isDragging) {\n        isDragging = false;\n        if (c.y > headerHeight + 100) {\n          router.push('/login');\n        } else {\n          dynamics.animate(c, {\n            x: headerHeight,\n            y: headerHeight\n          }, {\n            type: dynamics.spring,\n            duration: 700,\n            friction: 280\n          });\n        }\n      }\n    }\n    const __returned__ = {\n      headerHeight,\n      get isDragging() {\n        return isDragging;\n      },\n      set isDragging(v) {\n        isDragging = v;\n      },\n      start,\n      c,\n      headerPath,\n      contentText,\n      contentPosition,\n      router,\n      startDrag,\n      onDrag,\n      stopDrag,\n      reactive,\n      computed,\n      get dynamics() {\n        return dynamics;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","computed","dynamics","useRouter","headerHeight","isDragging","start","x","y","c","headerPath","contentText","contentPosition","dy","dampen","transform","router","startDrag","e","changedTouches","pageX","pageY","onDrag","content","document","querySelector","innerText","stopDrag","push","animate","type","spring","duration","friction"],"sources":["C:/Users/LENOVO/Documents/GitHub/Vue.js/src/views/common/PageDraggable.vue"],"sourcesContent":["<script setup>\r\nimport { reactive, computed } from 'vue'\r\nimport dynamics from 'dynamics.js'\r\nimport { useRouter } from 'vue-router'\r\n\r\nconst headerHeight = 120\r\n\r\nlet isDragging = false\r\nconst start = { x: 0, y: 0 }\r\nconst c = reactive({ x: headerHeight, y: headerHeight })\r\n\r\nconst headerPath = computed(() => {\r\n  return `M0,0 L320,0 320,${headerHeight}Q${c.x},${c.y} 0,${headerHeight}`\r\n})\r\n\r\nconst contentText = reactive('끌어당겨시작')\r\n\r\nconst contentPosition = computed(() => {\r\n  const dy = c.y - headerHeight\r\n  const dampen = dy > 0 ? 2 : 4\r\n  return {\r\n    transform: `translate(0,${dy / dampen}px)`\r\n  }\r\n})\r\n\r\nconst router = useRouter()\r\n\r\nfunction startDrag(e) {\r\n  e = e.changedTouches ? e.changedTouches[0] : e\r\n  isDragging = true\r\n  start.x = e.pageX\r\n  start.y = e.pageY\r\n}\r\n\r\nfunction onDrag(e) {\r\n  e = e.changedTouches ? e.changedTouches[0] : e;\r\n  if (isDragging) {\r\n    c.x = headerHeight + (e.pageX - start.x);\r\n    const dy = e.pageY - start.y;\r\n    const dampen = dy > 0 ? 1.5 : 4;\r\n    c.y = headerHeight + dy / dampen;\r\n    const content = document.querySelector('.content');\r\n    if (c.y > headerHeight + 100) {\r\n      content.innerText = 'Goodbye';\r\n    } else {\r\n      content.innerText = '끌어당겨시작';\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction stopDrag() {\r\n  if (isDragging) {\r\n    isDragging = false\r\n    if (c.y > headerHeight + 100) {\r\n\r\n      router.push('/login')\r\n    } else {\r\n      dynamics.animate(\r\n          c,\r\n          { x: headerHeight, y: headerHeight },\r\n          { type: dynamics.spring, duration: 700, friction: 280 }\r\n      )\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div\r\n      class=\"draggable\"\r\n      @mousedown=\"startDrag\"\r\n      @touchstart=\"startDrag\"\r\n      @mousemove=\"onDrag\"\r\n      @touchmove=\"onDrag\"\r\n      @mouseup=\"stopDrag\"\r\n      @touchend=\"stopDrag\"\r\n      @mouseleave=\"stopDrag\"\r\n  >\r\n    <svg class=\"bg\" width=\"320\" height=\"560\">\r\n      <path :d=\"headerPath\" fill=\"yellowgreen\"></path>\r\n    </svg>\r\n    <div class=\"header\">Drag Me</div>\r\n    <div class=\"content\" :style=\"contentPosition\">{{ contentText }}</div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<style scoped>\r\n.draggable {\r\n  background-color: #fff;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\r\n  width: 320px;\r\n  height: 250px;\r\n  overflow: hidden;\r\n  margin: 30px auto;\r\n  position: relative;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  font-weight: 300;\r\n  user-select: none;\r\n  border-radius: 8px;\r\n}\r\n.bg {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 0;\r\n}\r\n.header,\r\n.content {\r\n  position: relative;\r\n  z-index: 1;\r\n  padding: 30px;\r\n  box-sizing: border-box;\r\n}\r\n.header {\r\n  color: #fff;\r\n  height: 120px;\r\n  font-size: 2em;\r\n  font-weight: bold;\r\n}\r\n.content {\r\n  font-size: 1.5em;\r\n  height: calc(100% - 120px);\r\n\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n</style>"],"mappings":";AACA,SAASA,QAAQ,EAAEC,QAAQ,QAAQ,KAAK;AACxC,OAAOC,QAAQ,MAAM,aAAa;AAClC,SAASC,SAAS,QAAQ,YAAY;;;;;;;IAEtC,MAAMC,YAAY,GAAG,GAAG;IAExB,IAAIC,UAAU,GAAG,KAAK;IACtB,MAAMC,KAAK,GAAG;MAAEC,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAE,CAAC;IAC5B,MAAMC,CAAC,GAAGT,QAAQ,CAAC;MAAEO,CAAC,EAAEH,YAAY;MAAEI,CAAC,EAAEJ;IAAa,CAAC,CAAC;IAExD,MAAMM,UAAU,GAAGT,QAAQ,CAAC,MAAM;MAChC,OAAQ,mBAAkBG,YAAa,IAAGK,CAAC,CAACF,CAAE,IAAGE,CAAC,CAACD,CAAE,MAAKJ,YAAa,EAAC;IAC1E,CAAC,CAAC;IAEF,MAAMO,WAAW,GAAGX,QAAQ,CAAC,QAAQ,CAAC;IAEtC,MAAMY,eAAe,GAAGX,QAAQ,CAAC,MAAM;MACrC,MAAMY,EAAE,GAAGJ,CAAC,CAACD,CAAC,GAAGJ,YAAY;MAC7B,MAAMU,MAAM,GAAGD,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;MAC7B,OAAO;QACLE,SAAS,EAAG,eAAcF,EAAE,GAAGC,MAAO;MACxC,CAAC;IACH,CAAC,CAAC;IAEF,MAAME,MAAM,GAAGb,SAAS,EAAE;IAE1B,SAASc,SAASA,CAACC,CAAC,EAAE;MACpBA,CAAC,GAAGA,CAAC,CAACC,cAAc,GAAGD,CAAC,CAACC,cAAc,CAAC,CAAC,CAAC,GAAGD,CAAC;MAC9Cb,UAAU,GAAG,IAAI;MACjBC,KAAK,CAACC,CAAC,GAAGW,CAAC,CAACE,KAAK;MACjBd,KAAK,CAACE,CAAC,GAAGU,CAAC,CAACG,KAAK;IACnB;IAEA,SAASC,MAAMA,CAACJ,CAAC,EAAE;MACjBA,CAAC,GAAGA,CAAC,CAACC,cAAc,GAAGD,CAAC,CAACC,cAAc,CAAC,CAAC,CAAC,GAAGD,CAAC;MAC9C,IAAIb,UAAU,EAAE;QACdI,CAAC,CAACF,CAAC,GAAGH,YAAY,IAAIc,CAAC,CAACE,KAAK,GAAGd,KAAK,CAACC,CAAC,CAAC;QACxC,MAAMM,EAAE,GAAGK,CAAC,CAACG,KAAK,GAAGf,KAAK,CAACE,CAAC;QAC5B,MAAMM,MAAM,GAAGD,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;QAC/BJ,CAAC,CAACD,CAAC,GAAGJ,YAAY,GAAGS,EAAE,GAAGC,MAAM;QAChC,MAAMS,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;QAClD,IAAIhB,CAAC,CAACD,CAAC,GAAGJ,YAAY,GAAG,GAAG,EAAE;UAC5BmB,OAAO,CAACG,SAAS,GAAG,SAAS;QAC/B,CAAC,MAAM;UACLH,OAAO,CAACG,SAAS,GAAG,QAAQ;QAC9B;MACF;IACF;IAGA,SAASC,QAAQA,CAAA,EAAG;MAClB,IAAItB,UAAU,EAAE;QACdA,UAAU,GAAG,KAAK;QAClB,IAAII,CAAC,CAACD,CAAC,GAAGJ,YAAY,GAAG,GAAG,EAAE;UAE5BY,MAAM,CAACY,IAAI,CAAC,QAAQ,CAAC;QACvB,CAAC,MAAM;UACL1B,QAAQ,CAAC2B,OAAO,CACZpB,CAAC,EACD;YAAEF,CAAC,EAAEH,YAAY;YAAEI,CAAC,EAAEJ;UAAa,CAAC,EACpC;YAAE0B,IAAI,EAAE5B,QAAQ,CAAC6B,MAAM;YAAEC,QAAQ,EAAE,GAAG;YAAEC,QAAQ,EAAE;UAAI,CAAC,CAC1D;QACH;MACF;IACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}